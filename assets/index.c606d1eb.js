var e=Object.prototype.hasOwnProperty,t=Object.getOwnPropertySymbols,n=Object.prototype.propertyIsEnumerable,r=Object.assign;import{r as o,_ as a,a as s,b as c,l,i,s as u,N as m,c as p}from"./vendor.0d33fe90.js";!function(e=".",t="__import__"){try{self[t]=new Function("u","return import(u)")}catch(n){const r=new URL(e,location),o=e=>{URL.revokeObjectURL(e.src),e.remove()};self[t]=e=>new Promise(((n,a)=>{const s=new URL(e,r);if(self[t].moduleMap[s])return n(self[t].moduleMap[s]);const c=new Blob([`import * as m from '${s}';`,`${t}.moduleMap['${s}']=m;`],{type:"text/javascript"}),l=Object.assign(document.createElement("script"),{type:"module",src:URL.createObjectURL(c),onerror(){a(new Error(`Failed to import: ${e}`)),o(l)},onload(){n(self[t].moduleMap[s]),o(l)}});document.head.appendChild(l)})),self[t].moduleMap={}}}("assets/");const d={asset:{generator:"Hubs Entity Generator",version:"2.0"},extensionsUsed:["MOZ_hubs_components"],extensions:{MOZ_hubs_components:{version:3}},scene:0,scenes:[{name:"Scene",nodes:[0]}],nodes:[{extensions:{MOZ_hubs_components:null},name:"Entity"}]};function f(){return(f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function E(r){var{primary:s=!1}=r,c=((r,o)=>{var a={};for(var s in r)e.call(r,s)&&o.indexOf(s)<0&&(a[s]=r[s]);if(null!=r&&t)for(var s of t(r))o.indexOf(s)<0&&n.call(r,s)&&(a[s]=r[s]);return a})(r,["primary"]);const l=a`
    text-white
    ${s?"bg-blue-500 hover:bg-blue-400":"bg-white bg-opacity-0 hover:bg-opacity-10"}
    focus:(outline-none ring ring-white)
    rounded-sm px-3 py-1
    flex flex-wrap items-center
    font-semibold 
  `;return o.createElement("button",f({className:l},c))}function b({onExport:e,onUpload:t,onReset:n,onCopy:r}){const s=function(e){const[t]=o.useState((()=>document.createElement("input")));return o.useEffect((()=>{t.type="file";const n=t=>{e(t.target.files[0])};return t.addEventListener("change",n),()=>{t.removeEventListener("change",n)}}),[t,e]),()=>t.click()}(t),[c,l]=function(e=!1){const[t,n]=o.useState(e),r=o.useRef();return o.useEffect((()=>()=>clearTimeout(r.current)),[]),[t,(e=1e3)=>{clearTimeout(r.current),n(!0),r.current=setTimeout((()=>n(!1)),e)}]}();return o.createElement("div",{className:a("p-6 flex flex-col space-y-2")},o.createElement("h1",{className:a("font-black text-4xl mb-4 mt-10")},"Hubs Entity Generator"),o.createElement("div",{className:a("flex flex-wrap space-x-2")},o.createElement(E,{primary:!0,onClick:e},"Export"),o.createElement(E,{onClick:s},"Import"),o.createElement(E,{onClick:n},"Reset"),o.createElement("div",{className:a("flex-grow flex justify-end")},o.createElement(E,{onClick:()=>{r(),l(1500)}},o.createElement(y,{checked:c}),o.createElement("span",null,"Registrations")))))}function y({checked:e}){const t="absolute h-full w-full transform transition-transform";return o.createElement("span",{className:a("relative inline-block h-5 w-5 mr-1")},o.createElement(s,{className:a([t,e?"scale-0":"scale-100"])}),o.createElement(c,{className:a([t,e?"scale-100":"scale-0"])}))}var x={type:"git",url:"https://github.com/aelatgt/hubs-entity-generator"};function h(){return o.createElement("footer",{className:a("flex justify-center")},o.createElement("a",{href:x.url,className:a("flex justify-center space-x-2 my-4")},o.createElement(l,null),o.createElement("span",{className:a("font-semibold")},"Source")))}const g='/* HOW TO USE\n\n1. Configure component names, properties, and values as JSON\n2. Export as a .glb file\n3. Add AFRAME.GLTFModelPlus component registrations to script\n4. Add file to Hubs or Spoke, position as desired\n*/\n\n{\n  "my-component": {\n    "property": "value"\n  }\n}';function v(){const e=o.useRef(null),t=function(){const[e]=o.useState((()=>document.createElement("textarea")));return t=>{e.value=t,document.body.appendChild(e),e.select(),document.execCommand("copy"),document.body.removeChild(e)}}(),n=function(){const[e]=o.useState((()=>document.createElement("a")));return(t,n)=>{const r="text/json;charset=utf-8,"+encodeURIComponent(JSON.stringify(t,0,4));e.href="data:"+r,e.download=n,e.click()}}(),{createGltf:s,createRegistrations:c}={createGltf:e=>{const t=r({},d);return t.nodes[0].extensions.MOZ_hubs_components=e,t},createRegistrations:e=>Object.keys(e).map((e=>`AFRAME.GLTFModelPlus.registerComponent('${e}', '${e}')`)).join("\n")},l=()=>{const t=e.current.getValue(),n=u(t);return JSON.parse(n)},m={onExport:()=>{const e=s(l());n(e,"entity.glb")},onReset:()=>{e.current.setValue(g)},onCopy:()=>{const e=c(l());t(e)},onUpload:async t=>{try{const n=await t.text(),r=JSON.parse(n).nodes[0].extensions.MOZ_hubs_components;e.current.setValue(JSON.stringify(r,0,2))}catch(n){alert(n)}}};return o.createElement("div",{className:a("h-screen bg-dark text-white")},o.createElement("div",{className:a("flex flex-col h-full max-w-2xl mx-auto")},o.createElement(b,m),o.createElement("div",{className:a("flex-grow overflow-hidden")},o.createElement(i,{defaultLanguage:"json",theme:"vs-dark",defaultValue:g,onMount:t=>{e.current=t},options:{minimap:{enabled:!1}}})),o.createElement(h,null)))}m({theme:{extend:{colors:{dark:"#1e1e1e"}}}}),p.render(o.createElement(o.StrictMode,null,o.createElement(v,null)),document.getElementById("root"));
