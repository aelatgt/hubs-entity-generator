var e=Object.prototype.hasOwnProperty,t=Object.getOwnPropertySymbols,n=Object.prototype.propertyIsEnumerable,o=Object.assign;import{r,_ as s,a,i as c,T as l,t as i,s as m,N as u,b as p}from"./vendor.9e0e2357.js";!function(e=".",t="__import__"){try{self[t]=new Function("u","return import(u)")}catch(n){const o=new URL(e,location),r=e=>{URL.revokeObjectURL(e.src),e.remove()};self[t]=e=>new Promise(((n,s)=>{const a=new URL(e,o);if(self[t].moduleMap[a])return n(self[t].moduleMap[a]);const c=new Blob([`import * as m from '${a}';`,`${t}.moduleMap['${a}']=m;`],{type:"text/javascript"}),l=Object.assign(document.createElement("script"),{type:"module",src:URL.createObjectURL(c),onerror(){s(new Error(`Failed to import: ${e}`)),r(l)},onload(){n(self[t].moduleMap[a]),r(l)}});document.head.appendChild(l)})),self[t].moduleMap={}}}("/assets/");const d={asset:{generator:"Hubs Entity Generator",version:"2.0"},extensionsUsed:["MOZ_hubs_components"],extensions:{MOZ_hubs_components:{version:3}},scene:0,scenes:[{name:"Scene",nodes:[0]}],nodes:[{extensions:{MOZ_hubs_components:null},name:"Entity"}]};function f(){return(f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e}).apply(this,arguments)}function b(o){var{primary:a=!1}=o,c=((o,r)=>{var s={};for(var a in o)e.call(o,a)&&r.indexOf(a)<0&&(s[a]=o[a]);if(null!=o&&t)for(var a of t(o))r.indexOf(a)<0&&n.call(o,a)&&(s[a]=o[a]);return s})(o,["primary"]);const l=s`
    text-white
    ${a?"bg-blue-500 hover:bg-blue-400":"bg-white bg-opacity-0 hover:bg-opacity-10"}
    focus:(outline-none ring ring-white)
    rounded-sm px-3 py-1
    flex flex-wrap items-center
    font-semibold 
  `;return r.createElement("button",f({className:l},c))}function y({onExport:e,onUpload:t,onReset:n,onCopy:o}){const c=function(e){const[t]=r.useState((()=>document.createElement("input")));return r.useEffect((()=>{t.type="file";const n=t=>{e(t.target.files[0])};return t.addEventListener("change",n),()=>{t.removeEventListener("change",n)}}),[t,e]),()=>t.click()}(t);return r.createElement("div",{className:s("p-6 flex flex-col space-y-2")},r.createElement("h1",{className:s("font-black text-4xl mb-4 mt-10")},"Hubs Entity Generator"),r.createElement("div",{className:s("flex flex-wrap space-x-2")},r.createElement(b,{primary:!0,onClick:e},"Export"),r.createElement(b,{onClick:c},"Import"),r.createElement(b,{onClick:n},"Reset"),r.createElement("div",{className:s("flex-grow flex justify-end")},r.createElement(b,{onClick:o},r.createElement(a,{className:s("h-4")}),r.createElement("span",null,"Registrations")))))}const E='/* HOW TO USE\n\n1. Configure component names, properties, and values as JSON\n2. Export as a .glb file\n3. Add AFRAME.GLTFModelPlus component registrations to script\n4. Add file to Hubs or Spoke, position as desired\n*/\n\n{\n  "my-component": {\n    "property": "value"\n  }\n}';function x(){const e=r.useRef(null),t=function(){const[e]=r.useState((()=>document.createElement("textarea")));return t=>{e.value=t,document.body.appendChild(e),e.select(),document.execCommand("copy"),document.body.removeChild(e)}}(),n=function(){const[e]=r.useState((()=>document.createElement("a")));return(t,n)=>{const o="text/json;charset=utf-8,"+encodeURIComponent(JSON.stringify(t,0,4));e.href="data:"+o,e.download=n,e.click()}}(),{createGltf:a,createRegistrations:u}={createGltf:e=>{const t=o({},d);return t.nodes[0].extensions.MOZ_hubs_components=e,t},createRegistrations:e=>Object.keys(e).map((e=>`AFRAME.GLTFModelPlus.registerComponent('${e}', '${e}')`)).join("\n")},p=()=>{const t=e.current.getValue(),n=m(t);return JSON.parse(n)},f={onExport:()=>{const e=a(p());n(e,"entity.glb")},onReset:()=>{e.current.setValue(E)},onCopy:()=>{const e=u(p());t(e),i.info("Snippet copied to clipboard!")},onUpload:async t=>{try{const n=await t.text(),o=JSON.parse(n).nodes[0].extensions.MOZ_hubs_components;e.current.setValue(JSON.stringify(o,0,2))}catch(n){alert(n)}}};return r.createElement("div",{className:s("h-screen bg-dark text-white")},r.createElement("div",{className:s("flex flex-col h-full max-w-2xl mx-auto overflow-hidden")},r.createElement(y,f),r.createElement(c,{defaultLanguage:"json",theme:"vs-dark",defaultValue:E,onMount:t=>{e.current=t},options:{minimap:{enabled:!1}}}),r.createElement(l,{position:"top-right",pauseOnHover:!1,pauseOnFocusLoss:!1})))}u({theme:{extend:{colors:{dark:"#1e1e1e"}}}}),p.render(r.createElement(r.StrictMode,null,r.createElement(x,null)),document.getElementById("root"));
